<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Bet Converter - ConvertBetCodes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300..800&amp;family=SUSE:wght@100..800&amp;display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --adminuiux-content-font: "Open Sans", sans-serif;
        --adminuiux-content-font-weight: 400;
        --adminuiux-title-font: "SUSE", sans-serif;
        --adminuiux-title-font-weight: 600;
      }
    </style>
    <script defer src="assets/js/app8051.js?bd1e16b080f637e63a80"></script>
    <link href="assets/css/app8051.css?bd1e16b080f637e63a80" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/main.css" />
    <link rel="stylesheet" href="./assets/css/convert/convert.css" />
  </head>

  <body
    class="main-bg main-bg-opac adminuiux-header-standard theme-blue adminuiux-header-transparent adminuiux-sidebar-fill-white adminuiux-sidebar-standard bg-r-gradient scrollup"
    data-theme="theme-blue"
    data-sidebarfill="adminuiux-sidebar-fill-white"
    data-sidebarlayout="adminuiux-sidebar-standard"
    data-bs-spy="scroll"
    data-bs-target="#list-example"
    data-bs-smooth-scroll="true"
    tabindex="0"
    data-headerlayout="adminuiux-header-standard"
    data-bggradient="bg-r-gradient"
    data-headerfill="adminuiux-header-transparent"
  >

    <div id="desktop-nav"></div>
    <div id="side-menu"></div>

    <!-- main content -->
    <div class="adminuiux-wrap">
      <main class="adminuiux-content has-sidebar" onclick="contentClick()">
          <div class="content-card">
            <div class="page-header">
              <button class="back-btn" onclick="navigateTo('index.html')">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M15 18l-6-6 6-6"/>
                </svg>
              </button>
              <h1 class="page-title">Bet Converter</h1>
              <button class="home-btn" onclick="navigateTo('index.html')">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                  <polyline points="9 22 9 12 15 12 15 22"/>
                </svg>
              </button>
            </div>

            <!-- Mobile Tabs -->
            <div class="tabs-mobile">
              <button
                class="tab-btn active"
                onclick="switchTab('betting-code')"
              >
                Betting Code
              </button>
              <button class="tab-btn" onclick="switchTab('ticket-code')">
                Ticket Code
              </button>
              <button class="tab-btn" onclick="switchTab('bet-link')">
                Bet Link
              </button>
              <button class="tab-btn" onclick="switchTab('upload-file')">
                Upload File
              </button>
            </div>

            <div class="tabs-desktop">
              <button
                class="tab-btn-desktop active"
                onclick="switchTab('betting-code')"
              >
                Betting Code
              </button>
              <button
                class="tab-btn-desktop"
                onclick="switchTab('ticket-code')"
              >
                Ticket Code
              </button>
              <button class="tab-btn-desktop" onclick="switchTab('bet-link')">
                Bet Link
              </button>
              <button
                class="tab-btn-desktop"
                onclick="switchTab('upload-file')"
              >
                Upload File
              </button>
            </div>

            <!-- Betting Code Section -->
            <div id="betting-code" class="content-section active">
              <h2>Betting Code</h2>
              <p>Enter your betting code to convert</p>

              <form>
                <div class="form-group">
                  <label>Betting code</label>
                  <div class="input-wrapper">
                    <input type="text" placeholder="Enter betting code" />
                    <button type="button" class="paste-btn" title="Paste">
                      <svg
                        width="20"
                        height="20"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <rect
                          width="8"
                          height="4"
                          x="8"
                          y="2"
                          rx="1"
                          stroke-width="2"
                        />
                        <path
                          d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
                          stroke-width="2"
                        />
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="form-group">
                  <label>Source Bookie</label>
                  <select>
                    <option>Select source bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Target Bookie</label>
                  <select>
                    <option>Select target bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <button
                  type="button"
                  onclick="navigateTo('convertresult-success.html')"
                  class="convert-btn"
                >
                  Convert
                </button>
              </form>
            </div>

            <!-- Ticket Code Section -->
            <div id="ticket-code" class="content-section">
              <h2>Ticket Code</h2>
              <p>Enter your ticket code to convert</p>

              <form>
                <div class="form-group">
                  <label>Ticket code</label>
                  <div class="input-wrapper">
                    <input type="text" placeholder="Enter ticket code" />
                    <button type="button" class="paste-btn" title="Paste">
                      <svg
                        width="20"
                        height="20"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <rect
                          width="8"
                          height="4"
                          x="8"
                          y="2"
                          rx="1"
                          stroke-width="2"
                        />
                        <path
                          d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
                          stroke-width="2"
                        />
                      </svg>
                    </button>
                  </div>
                </div>

                <div class="form-group">
                  <label>Source Bookie</label>
                  <select>
                    <option>Select source bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Target Bookie</label>
                  <select>
                    <option>Select target bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <button
                  type="button"
                  onclick="navigateTo('convertresult-success.html')"
                  class="convert-btn"
                >
                  Convert
                </button>
              </form>
            </div>

            <!-- Bet Link Section - PHASE 1 IMPROVEMENT: Auto-detect removed Origin Bookie -->
            <div id="bet-link" class="content-section">
              <h2>Bet Link</h2>
              <p>Paste your bet link - we'll auto-detect the bookie</p>

              <form>
                <div class="form-group">
                  <label>Bet Link</label>
                  <div class="input-wrapper">
                    <input
                      type="url"
                      id="betLinkInput"
                      placeholder="https://sportybet.com/share/xyz123"
                    />
                    <button type="button" class="paste-btn" title="Paste">
                      <svg
                        width="20"
                        height="20"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <rect
                          width="8"
                          height="4"
                          x="8"
                          y="2"
                          rx="1"
                          stroke-width="2"
                        />
                        <path
                          d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
                          stroke-width="2"
                        />
                      </svg>
                    </button>
                  </div>
                  <small id="detectedBookie" style="display: none; color: #666; margin-top: 4px; display: block;">
                    <strong>Detected:</strong> <span id="bookieName"></span>
                  </small>
                </div>

                <!-- REMOVED: Origin Bookie dropdown - auto-detected now -->

                <div class="form-group">
                  <label>Target Bookie</label>
                  <select>
                    <option>Select target bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <button type="submit" class="convert-btn">Convert</button>
              </form>
            </div>

            <!-- Upload File Section -->
            <div id="upload-file" class="content-section">
              <h2>Upload File</h2>
              <p>Upload your betting slip image</p>

              <form>
                <div class="upload-area">
                  <svg
                    class="upload-icon"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    />
                  </svg>
                  <h3>Browse Files or drag & drop here</h3>
                  <p>JPEG, PNG, and CSV formats up to 2MB</p>
                  <input
                    type="file"
                    style="display: none"
                    id="fileInput"
                    accept=".jpg,.jpeg,.png,.csv"
                  />
                  <label for="fileInput" class="browse-btn">Browse Files</label>
                </div>

                <div class="form-group">
                  <label>Source Bookie</label>
                  <select>
                    <option>Select source bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Target Bookie</label>
                  <select>
                    <option>Select target bookie</option>
                    <option>Bet9ja</option>
                    <option>1xBet</option>
                    <option>SportyBet</option>
                    <option>NairaBet</option>
                  </select>
                </div>

                <button type="submit" class="convert-btn">Convert</button>
              </form>
            </div>
          </div>
      </main>
    </div>

    <div id="filter-canvas"></div>
    <div id="mobile-nav"></div>

    <script src="assets/js/adminux/adminux-dashboard.js"></script>
    <script src="./components/AppLayout.js"></script>
    <script>

      // Tab Switching Function
      function switchTab(tabName) {
        // Hide all content sections
        document.querySelectorAll(".content-section").forEach((section) => {
          section.classList.remove("active");
        });

        // Remove active class from all mobile tabs
        document.querySelectorAll(".tab-btn").forEach((btn) => {
          btn.classList.remove("active");
        });

        // Remove active class from all desktop tabs
        document.querySelectorAll(".tab-btn-desktop").forEach((btn) => {
          btn.classList.remove("active");
        });

        // Show selected content
        document.getElementById(tabName).classList.add("active");

        // Add active class to clicked button
        event.target.classList.add("active");
      }

      // PHASE 1: Auto-detect bookie from bet link
      const betLinkInput = document.getElementById('betLinkInput');
      if (betLinkInput) {
        betLinkInput.addEventListener('input', function(e) {
          const url = e.target.value.toLowerCase();
          const detectedElement = document.getElementById('detectedBookie');
          const bookieNameElement = document.getElementById('bookieName');
          
          let detectedBookie = null;
          
          if (url.includes('sportybet.com')) {
            detectedBookie = 'SportyBet';
          } else if (url.includes('bet9ja.com')) {
            detectedBookie = 'Bet9ja';
          } else if (url.includes('1xbet.com')) {
            detectedBookie = '1xBet';
          } else if (url.includes('nairabet.com')) {
            detectedBookie = 'NairaBet';
          }
          
          if (detectedBookie) {
            bookieNameElement.textContent = detectedBookie;
            detectedElement.style.display = 'block';
          } else {
            detectedElement.style.display = 'none';
          }
        });
      }

      // Paste Button Functionality
      document.querySelectorAll(".paste-btn").forEach((btn) => {
        btn.addEventListener("click", async function () {
          try {
            const text = await navigator.clipboard.readText();
            const input = this.parentElement.querySelector("input");
            if (input) {
              input.value = text;
              input.focus();
              // Trigger input event for bet link auto-detection
              input.dispatchEvent(new Event('input'));
            }
          } catch (err) {
            alert("Please paste manually (Ctrl+V or Cmd+V)");
          }
        });
      });

      // File Upload Display
      const fileInput = document.getElementById("fileInput");
      if (fileInput) {
        fileInput.addEventListener("change", function (e) {
          const fileName = e.target.files[0]?.name;
          if (fileName) {
            const uploadArea = document.querySelector(".upload-area h3");
            uploadArea.textContent = `Selected: ${fileName}`;
          }
        });
      }

      // Form Submit Prevention (for demo)
      document.querySelectorAll("form").forEach((form) => {
        form.addEventListener("submit", function (e) {
          e.preventDefault();
          alert("Conversion feature will be implemented in production!");
        });
      });

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        console.log("Bet Converter Phase 1 loaded successfully!");
      });
    </script>
  </body>
</html>